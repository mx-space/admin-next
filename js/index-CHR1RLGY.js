import{bq as Be,br as Ie,bs as Fe,bt as Ne,R as p,aJ as re,aR as oe,d as g,b,bu as H,e,n as x,V as m,q as h,bp as O,f as d,B as v,bv as V,M as _,m as ie,bw as Pe,u as A,bx as E,aj as W,by as ce,bz as J,I as $,b7 as De,A as de,a2 as N,g as pe,a1 as U,h as S,i as j,bA as G,Z as fe,y as z,o as P,a3 as I,r as D,w as F,bB as me,bC as L,F as k,bD as K,bE as Ae,v as ve,aa as Ee,b3 as Te,bF as Oe,Q as je,bg as Ve,H as Q,$ as Ue,av as be,bG as ye,ai as qe,bH as Ke,bI as Re,bJ as $e,bK as X,bL as Le,bM as Me,N as He,bk as ge,s as _e,bo as Ge,a$ as ze,aZ as Z,bN as he,bO as We,ah as Je,c as Qe,bP as Xe,bQ as Y,bR as Ze,U as Ye,am as et,an as T,C as tt}from"./index-DoMbq08J.js";import{_ as ee}from"./CheckCircleOutlined-moD-HxWJ.js";import{i as M}from"./isEmpty-C0-17aOk.js";import{c as we}from"./cloneDeep-C3eZxPSo.js";import{N as at,a as lt}from"./ListItem-rybeiA8Z.js";import{K as ut}from"./index-UH3Fz-9d.js";import{U as nt}from"./index-Bf_sF477.js";import{N as st}from"./Upload-B5qr7qQf.js";import"./_baseClone-NNhkPAMd.js";function rt(t){return Be(Ie(t).toLowerCase())}var ot=Fe(function(t,l,s){return l=l.toLowerCase(),t+(s?rt(l):l)});function te(t,l,s){return t==null?t:Ne(t,l,s)}const it=async()=>p.api.auth.session.get();function ct(t){const l={};for(const s of t.providers){const i=s.type;i in t.public?l[i]={...t.public[i],enabled:s.enabled,type:i}:console.warn(`Provider type ${i} found in providers but not in public data.`)}return l}const Ce=Symbol.for("OauthDataInjectKey"),dt=()=>t=>re(Ce,t),pt=()=>oe(Ce),xe=(t,l)=>g({setup(){const s=async()=>{await Pe(t,{callbackUrl:`${location.href}?validate=true`})},i=pt(),r=b({clientId:"",secret:""}),o=b(!1);H(()=>{if(i.value[t]===void 0)return;const{clientId:n,enabled:f}=i.value[t];o.value=f,r.value.clientId=n});const u=b(null),c={clientId:[{required:!0,message:"Client Id 不能为空"}],secret:[{required:!0,message:"Client Secret 不能为空"}]},a=async()=>{await u.value?.validate(),p.api.options("oauth").patch({data:{providers:[{type:t,enabled:o.value}],secrets:{[t]:{clientSecret:r.value.secret}},public:{[t]:{clientId:r.value.clientId}}}})};return()=>e(ie,{title:l.name},{default(){return e(x,{model:r.value,ref:u,rules:c},{default:()=>[e(m,{label:"Client Id",path:"clientId",required:!0},{default:()=>[e(h,{value:r.value.clientId,onUpdateValue:n=>{r.value.clientId=n}},null)]}),e(m,{label:"Client Secret",required:!0,path:"secret"},{default:()=>[e(h,{showPasswordToggle:!0,type:"password",value:r.value.secret,onUpdateValue:n=>{r.value.secret=n}},null)]}),e(O,{class:"text-sm"},{default:()=>[e("br",null,null),d(" Callback URL 填写")," ",e(v,{onClick:()=>{navigator.clipboard.writeText(`${p.endpoint}/auth/callback/${t}`),message.success("已复制到剪贴板")},text:!0},{default:()=>[p.endpoint,d("/auth/callback/"),t]})]})]})},action(){return e("div",{class:"flex justify-between"},[e("label",{class:"flex items-center gap-2"},[d("启用"),e(V,{value:o.value,onUpdateValue:n=>{o.value=n}},null)]),e(_,null,{default:()=>[e(v,{onClick:s,type:"tertiary",round:!0},{default:()=>[d("验证")]}),e(v,{onClick:a,type:"primary",round:!0},{default:()=>[d("保存")]})]})])}})}}),ft=xe("github",{name:"GitHub"}),mt=xe("google",{name:"Google"}),vt=g({setup(){return()=>e("div",null,[e(bt,null,null),e(yt,null,null)])}}),bt=g(()=>{const t=A(E),{data:l,mutate:s}=W("passkey-table",()=>p.api.passkey.items.get()),i=a=>{p.api.passkey.items(a).delete().then(()=>{s()})},r=g(a=>{const n=b(""),f=w=>{w.preventDefault(),w.stopPropagation(),J.createPassKey(n.value).then(()=>{s(),a.dialog.destroy()})};return()=>e(x,{onSubmit:f},{default:()=>[e(m,{label:"名称",required:!0},{default:()=>[e(h,{value:n.value,onUpdateValue:w=>{n.value=w}},null)]}),e("div",{class:"flex justify-end"},[e(v,{disabled:n.value.length===0,type:"primary",onClick:f,round:!0,size:"small"},{default:()=>[d("创建")]})])]})}),{data:o,mutate:u}=W("current-disable-status",async()=>{const{data:a}=await p.api.options("authSecurity").get();return a}),c=a=>{p.api.options("authSecurity").patch({data:{disablePasswordLogin:a}}).then(()=>{u()})};return r.props=["dialog"],()=>e(G,{embedded:!0,class:"!overflow-visible"},{default:()=>[e("div",{class:"flex items-center justify-between"},[e(ce,{class:"mb-0"},{default:()=>[d("通行秘钥")]}),e(_,null,{default:()=>[e(v,{type:"tertiary",onClick:()=>{J.validate(!0)},round:!0},{default:()=>[e($,null,{default:()=>[e(De,null,null)]}),e("span",{class:"ml-2"},[d("验证")])]}),e(v,{round:!0,type:"primary",onClick:()=>{const a=dialog.create({title:"创建 Passkey",content:()=>e(r,{dialog:a},null)})}},{default:()=>[e($,null,{default:()=>[e(de,null,null)]}),e("span",{class:"ml-2"},[d("新增")])]})]})]),e(x,{class:"mt-4",labelAlign:"left",labelPlacement:"left"},{default:()=>[e(m,{label:"禁止密码登入"},{default:()=>[e(V,{value:o.value?.disablePasswordLogin,onUpdateValue:a=>{l.value?.length||message.error("至少需要一个 Passkey 才能开启这个功能"),c(a)}},null)]}),e("div",{class:"-mt-8 mb-4"},[e(N,{class:"mb-2 text-xs",depth:3},{default:()=>[e("span",null,[d("禁用密码登录需要至少开启 Oauth 或者 PassKey 登录的一项")])]})])]}),e(pe,{scrollX:Math.max(800,t.contentWidth.value-t.contentInsetWidth.value),remote:!0,bordered:!1,data:l.value,columns:[{key:"name",title:"名称"},{title:"创建时间",key:"created",render({created:a}){return e(U,{time:a},null)}},{title:"操作",key:"id",render({id:a,name:n}){return e(S,null,{default:()=>[e(j,{positiveText:"取消",negativeText:"删除",onNegativeClick:()=>{i(a)}},{trigger:()=>e(v,{text:!0,type:"error"},{default:()=>[d("删除")]}),default:()=>e("span",{class:"max-w-48"},[d('确定要删除 Passkey "'),n,d('"?')])})]})}}]},null)]})}),yt=g(()=>{const t=fe(),l=z(),s=b({});return P(async()=>{const i=await p.api.options("oauth").get();s.value=ct(i.data)}),dt()(s),P(async()=>{const i=t.query.validate;l.replace({query:{...t.query,validate:""}}),i&&await it()&&(message.success("验证成功"),dialog.create({title:"设定为主人账户？",positiveText:"是",negativeText:"否",onPositiveClick(o){p.api.auth("as-owner").patch()}}))}),()=>e(G,{embedded:!0,class:"mt-12 !overflow-visible"},{default:()=>[e(ce,{class:"mb-0"},{default:()=>[d("OAuth")]}),e("div",{class:"mt-8 grid grid-cols-1 gap-4 md:grid-cols-2 xl:grid-cols-3"},[e(ft,null,null),e(mt,null,null)])]})}),ae=g({props:{condition:{type:[Boolean,Function],required:!0}},setup(t,{slots:l}){const s=()=>{if(typeof t.condition=="function"?t.condition():t.condition)return l.default?.()};return()=>s()}});function R(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!ve(t)}const gt="mt-6",ht={class:gt,labelPlacement:"left",labelAlign:"right",labelWidth:150,autocomplete:"do-not-autofill"},ke=Symbol("JSONSchemaFormInject"),wt=g({props:{schema:{type:Object,required:!0},onValueChange:{type:Function,required:!1},initialValue:{type:Object,required:!0},getKey:{type:Function,required:!1,default:t=>t},extendConfigView:{type:Object}},setup(t,{slots:l}){const s=b(t.initialValue);H(()=>{t.onValueChange?.(s.value)},{flush:"post"});const i=I(()=>t.schema.definitions),r=I(()=>new Map(Object.entries(t.schema.definitions)));re(ke,{schema:t.schema,definitions:r,getKey:t.getKey});const o=I(()=>Object.keys(i.value)),u=b([o.value[0]]),c=A(E),a=D(ht);return F(()=>c.viewport.value.mobile,n=>{n?(a.labelPlacement="top",a.labelAlign="left"):(a.labelPlacement="left",a.labelAlign="right")},{immediate:!0}),()=>{let n,f;const{schema:w}=t;return e(k,null,[e(me,{accordion:!0,defaultExpandedNames:u.value,displayDirective:"if"},R(n=o.value.map(y=>{const C=i.value[y];if(!C.title)return null;switch((C?.["ui:options"]||{})?.type){case"hidden":return null}return e(L,{title:C.title,"data-schema":JSON.stringify(C)},{default:()=>[e(x,a,{default:()=>[e(Se,{dataKey:t.getKey(y),formData:s,schema:C,property:y},null),t.extendConfigView?.[y],l[y]?.()]})]})}))?n:{default:()=>[n]}),w.ps.length?e(S,{vertical:!0},R(f=w.ps.map(y=>e(N,{class:"ml-4 mt-8 inline-block text-xs",depth:3},R(y)?y:{default:()=>[y]})))?f:{default:()=>[f]}):null])}}}),Se=g({props:{schema:{type:Object,required:!0},formData:{type:Object,required:!0},dataKey:{type:String,required:!0},property:{type:String}},setup(t){const{definitions:l,getKey:s}=oe(ke,{});return()=>{const{schema:i,formData:r,dataKey:o,property:u}=t;return i?e(k,null,[Object.keys(i.properties).map(c=>{const a=i.properties[c];if(a.$ref){const n=l.value.get(a.$ref.split("/").at(-1));return e(Se,{dataKey:`${s(o)}.${c}`,formData:r,schema:n,property:c},null)}return e(Ct,{value:K(r.value,`${s(o)}.${c}`,void 0),onUpdateValue:n=>{K(r.value,s(o))?te(r.value,`${s(o)}.${c}`,n):te(r.value,s(o),{...K(r.value,s(o),{}),[c]:n})},title:a.title,type:a.type,options:a?.["ui:options"],description:a.description},null)})]):null}}}),Ct=g({props:{type:{type:String,required:!0},title:{type:String,required:!0},description:{type:String},options:{type:Object,default:()=>({})},value:{type:Object,required:!0},onUpdateValue:{type:Function,required:!0}},setup(t){const l=b(t.value);H(()=>{t.onUpdateValue(l.value)});const s=()=>{const{options:o}=t;switch(t.type){case"url":case"string":{const{type:u}=o;switch(u){case"select":const{values:c}=o;return e(je,{value:l.value,onUpdateValue:a=>{l.value=a},options:c,filterable:!0},null);default:return e(h,{inputProps:{id:Oe()},value:l.value,onUpdateValue:a=>{l.value=a},type:u||"text",showPasswordOn:"click",autosize:u=="textarea"?{maxRows:5,minRows:3}:void 0,clearable:!0},null)}}case"array":return e(Te,{value:l.value,onUpdateValue:u=>{l.value=u}},null);case"boolean":return e(V,{value:l.value,onUpdateValue:u=>{l.value=u}},null);case"integer":return e(Ee,{value:l.value,onUpdateValue:u=>{l.value=u}},null);default:return null}},i=A(E),r=I(()=>i.viewport.value.mobile?1:2);return()=>{const{title:o,options:u,description:c}=t,a=e(k,null,[e(m,{label:o},{default:()=>[c?e(S,{class:"w-full",vertical:!0},{default:()=>[s(),e(N,{class:"text-xs",depth:3},{default:()=>[e("span",{innerHTML:Ae.parse(c)},null)]})]}):s()]})]);return u.halfGrid&&r.value===2?e("div",{class:"inline-block w-1/2"},[a]):a}}}),xt="mt-6",kt={class:xt,labelPlacement:"left",labelAlign:"right",labelWidth:150,autocomplete:"chrome-off"},le={autosize:!0,clearable:!0,style:"min-width: 300px; max-width: 100%"},St=g(()=>{const{setHeaderButtons:t}=Ve();P(()=>{t(e(Q,{disabled:!0,onClick:o,icon:e(ee,null,null)},null))}),Ue(()=>{t(null)});const l=b();be(async()=>{l.value=await p.api.config.jsonschema.get({transform:!1}),await u()});let s={};const i=D({}),r=b({});F(()=>i,n=>{r.value=ye(s,qe(n))},{deep:!0}),F(()=>r.value,n=>{let f=!1;M(n)?f=!1:f=!0,t(e(Q,{disabled:!f,icon:e(ee,null,null),onClick:o},null))});async function o(){if(M(r.value))return;const n=Object.entries(r.value);for await(const[f,w]of n){const y=Object.fromEntries(Object.entries(w).map(([C,q])=>Array.isArray(q)?[C,i[f][C]]:[C,q]));await p.api.options(f).patch({data:y})}await u(),message.success("修改成功")}const u=async()=>{let n=await p.api.options.get();n=Ke(l.value.default,n),s=we(n),Object.assign(i,n)},c=A(E),a=D(kt);return F(()=>c.viewport.value.mobile,n=>{n?(a.labelPlacement="top",a.labelAlign="left"):(a.labelPlacement="left",a.labelAlign="right")},{immediate:!0}),()=>e(k,null,[e("div",{class:"pt-4"},null),l.value&&e(wt,{initialValue:i,getKey:n=>n.split(".").map(f=>ot(f)).join(".").replace("Dto",""),schema:l.value},{AdminExtraDto(){return e(k,null,[e(m,{label:"主题色"},{default:()=>[e(Bt,null,null)]})])}})])}),Bt=g({setup(){const t=Re(),l=document.createElement("style");return l.innerHTML="* { transition: none !important; }",()=>e("div",{class:"flex items-center gap-2"},[e($e,{class:"w-36",value:t.value.primaryColor,onUpdateValue:s=>{document.head.appendChild(l),Object.assign(X.value,Le(s)),setTimeout(()=>{document.head.removeChild(l)})}},null),e(v,{size:"small",ghost:!0,onClick:()=>{Object.assign(X.value,Me)}},{default:()=>[e("span",null,[d("重置")])]})])}});function ue(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!ve(t)}const It=g(()=>{const t=b([]),l=async()=>{const r=await p.api.user.session.get({});t.value=[...r.data]};P(()=>{l()});const s=async(r,o)=>{r?(await p.api.user.logout.post({}),he(),await We(),window.location.reload()):(await p.api.user.session(o).delete({}),t.value=t.value.filter(u=>u.id!==o))},i=async()=>{await p.api.user.session.all.delete({}),await l()};return()=>{let r;return e(k,null,[e(He,{class:"flex items-center justify-between"},{default:()=>[e("span",{class:"ml-4"},[d("登录设备")]),e(j,{onPositiveClick:i},{trigger(){return e(v,{size:"small",quaternary:!0,type:"error",disabled:t.value.length==1&&t.value[0].current},{default:()=>[d("踢掉全部")]})},default(){return"确定踢掉全部登录设备（除当前会话）？"}})]}),e(at,{bordered:!0},ue(r=t.value.map(({id:o,ua:u,ip:c,date:a,current:n})=>e(lt,{key:o},{prefix(){return e("div",{class:"w-20 text-center"},[n?"当前":null])},suffix(){return e(_,null,{default:()=>[e(j,{onPositiveClick:()=>s(!!n,o)},{trigger(){return e(v,{tertiary:!0,type:"error"},{default:()=>[n?"注销":"踢"]})},default(){return n?"登出？":"确定要踢出吗？"}})]})},default(){return e(S,{vertical:!0},{default:()=>[e(ae,{condition:!!u},{default:()=>[e(O,null,{default:()=>[d("User Agent: "),u]})]}),e(ae,{condition:!!c},{default:()=>[e(O,null,{default:()=>[d("IP:")," ",e(ge,{ip:c,triggerEl:e(v,{quaternary:!0,size:"tiny",type:"primary"},ue(c)?c:{default:()=>[c]})},null)]})]}),e(O,null,{default:()=>[n?"活跃时间":"登录时间",d(":")," ",e(U,{time:a},null)]})]})}})))?r:{default:()=>[r]}),e("div",{class:"pt-4"},null),e(me,{defaultExpandedNames:[""],displayDirective:"show"},{default:()=>[e(L,{name:"reset",title:"修改密码"},{default:()=>[e(Nt,null,null)]}),e(L,{name:"token",title:"API Token"},{default:()=>[e(Ft,null,null)]})]})])}}),Ft=g(()=>{const t=b([]),l=()=>({name:"",expired:!1,expiredTime:new Date}),s=D(l()),i=async()=>{const{data:a}=await p.api.auth.token.get();t.value=a};be(()=>{i()});const r=b(!1),o=async()=>{const a={name:s.name,expired:s.expired?s.expiredTime.toISOString():void 0},n=await p.api.auth.token.post({data:a});await navigator.clipboard.writeText(n.token),r.value=!1;const f=l();for(const y in f)s[y]=f[y];message.success(`生成成功，Token 已复制，${n.token}`),await i();const w=t.value.findIndex(y=>y.name===a.name);w!==-1&&(t.value[w].token=n.token)},u=async a=>{await p.api.auth.token.delete({params:{id:a}}),message.success("删除成功");const n=t.value.findIndex(f=>f.id===a);n!=-1&&t.value.splice(n,1)},c=A(E);return()=>e(G,{class:"!overflow-visible"},{default:()=>[e(_e,{transformOrigin:"center",show:r.value,onUpdateShow:a=>void(r.value=a)},{default:()=>[e(ie,{bordered:!1,title:"创建 Token",class:"w-[500px] max-w-full"},{default:()=>[e(x,null,{default:()=>[e(m,{label:"名称",required:!0},{default:()=>[e(h,{value:s.name,onInput:a=>void(s.name=a)},null)]}),e(m,{label:"是否过期"},{default:()=>[e(V,{value:s.expired,onUpdateValue:a=>void(s.expired=a)},null)]}),e(m,{label:"过期时间"},{default:()=>[e(Ge,{disabled:!s.expired,value:s.expiredTime,type:"datetime",onUpdateValue:a=>void(s.expiredTime=new Date(a))},null)]})]}),e(S,null,{default:()=>[e(v,{round:!0,onClick:()=>void(r.value=!1)},{default:()=>[d("取消")]}),e(v,{round:!0,type:"primary",onClick:o},{default:()=>[d("确定")]})]})]})]}),e(v,{class:"absolute right-0 top-[-3rem]",round:!0,type:"primary",onClick:()=>{r.value=!0}},{default:()=>[e($,null,{default:()=>[e(de,null,null)]}),e("span",{class:"ml-2"},[d("新增")])]}),e(pe,{scrollX:Math.max(800,c.contentWidth.value-c.contentInsetWidth.value),remote:!0,bordered:!1,data:t.value,columns:[{key:"name",title:"名称"},{key:"token",title:"Token",render({token:a}){return"*".repeat(40)}},{title:"创建时间",key:"created",render({created:a}){return e(U,{time:a},null)}},{title:"过期时间",key:"expired",render({expired:a}){return ze(a,"yyyy 年 M 月 d 日 HH:mm:ss")}},{title:"操作",key:"id",render({id:a,name:n}){return e(S,null,{default:()=>[e(j,{positiveText:"取消",negativeText:"删除",onNegativeClick:()=>{u(a)}},{trigger:()=>e(v,{text:!0,type:"error"},{default:()=>[d("删除")]}),default:()=>e("span",{class:"max-w-48"},[d('确定要删除 Token "'),n,d('"?')])})]})}}]},null)]})}),Nt=g(()=>{const t=D({password:"",reenteredPassword:""}),l=b(),s=z(),i=async()=>{l.value&&l.value.validate(async o=>{o?console.log(o):(await p.api.master.patch({data:{password:t.password}}),message.success("更改成功"),he(),s.push({name:Je.Login}))})};function r(o,u){return console.log(o),u===t.password}return()=>e(x,{class:"max-w-[300px]",ref:l,model:t,rules:{password:[{required:!0,message:"请输入密码"}],reenteredPassword:[{required:!0,message:"请再次输入密码",trigger:["input","blur"]},{validator:r,message:"两次密码输入不一致",trigger:["blur","password-input"]}]}},{default:()=>[e(m,{label:"新密码",required:!0,path:"password"},{default:()=>[e(h,Z(le,{value:t.password,onInput:o=>void(t.password=o),type:"password"}),null)]}),e(m,{label:"重复密码",required:!0,path:"reenteredPassword"},{default:()=>[e(h,Z(le,{value:t.reenteredPassword,onInput:o=>void(t.reenteredPassword=o),type:"password"}),null)]}),e("div",{class:"quaternary-right w-full"},[e(v,{onClick:i,type:"primary",round:!0},{default:()=>[d("保存")]})])]})}),ne={GitHub:"github",Weibo:"weibo",网易云:"netease",哔哩哔哩:"bilibili"},Pt="_avatar_1o1mi_3",se={"tab-user":"_tab-user_1o1mi_1",avatar:Pt},Dt=g(()=>{const t=b({});let l;async function s(){const u=await p.api.master.get();t.value=u,l={...u}}P(async()=>{await s()});const i=Qe(),r=I(()=>ye(l,t.value)),o=async()=>{const u=we(Ye(r));u.socialIds&&(u.socialIds=t.value.socialIds),await p.api.master.patch({data:u}),i.success("保存成功~"),await s()};return()=>e(k,null,[e(Xe,{cols:"1 400:1 600:2",class:se["tab-user"],xGap:20,yGap:20},{default:()=>[e(Y,null,{default:()=>[e(x,{class:"flex flex-col items-center justify-center "},{default:()=>[e(m,null,{default:()=>[e("div",{class:se.avatar},[e(nt,{type:"avatar",onFinish:u=>{const{file:c,event:a}=u;try{const n=JSON.parse((a?.target).responseText);t.value.avatar=n.url}catch{}return c}},{default:()=>[e(st,{class:"border-0 bg-transparent hover:border-0"},{default:()=>[e(Ze,{class:"flex",src:t.value.avatar,size:200},null)]})]})])]}),e(m,{label:"上次登录时间",class:"!mt-4"},{default:()=>[e("div",{class:"w-full text-center"},[e(N,null,{default:()=>[t.value.lastLoginTime?e(U,{time:t.value.lastLoginTime},null):"N/A"]})])]}),e(m,{label:"上次登录地址"},{default:()=>[e("div",{class:"w-full text-center"},[t.value.lastLoginIp?e(ge,{trigger:"hover",ip:t.value.lastLoginIp,triggerEl:e(N,{class:"cursor-pointer"},{default:()=>[t.value.lastLoginIp]})},null):"N/A"])]}),e(m,null,{default:()=>[e(v,{round:!0,class:"-mt-14",type:"primary",onClick:o,disabled:M(r.value)},{default:()=>[d("保存")]})]})]})]}),e(Y,null,{default:()=>[e(x,null,{default:()=>[e(m,{label:"主人名 (username)"},{default:()=>[e(h,{value:t.value.username,onInput:u=>{t.value.username=u?.trim()||""}},null)]}),e(m,{label:"主人昵称 (name)"},{default:()=>[e(h,{value:t.value.name,onInput:u=>{t.value.name=u?.trim()||""}},null)]}),e(m,{label:"主人邮箱 (mail)"},{default:()=>[e(h,{value:t.value.mail,onInput:u=>{t.value.mail=u}},null)]}),e(m,{label:"个人首页"},{default:()=>[e(h,{value:t.value.url,onInput:u=>{t.value.url=u}},null)]}),e(m,{label:"头像"},{default:()=>[e(h,{value:t.value.avatar,onInput:u=>{t.value.avatar=u}},null)]}),e(m,{label:"个人介绍"},{default:()=>[e(h,{type:"textarea",resizable:!1,value:t.value.introduce,onInput:u=>{t.value.introduce=u}},null)]}),e(m,{label:"社交平台 ID 录入"},{default:()=>[e(ut,{key:t.value.id,options:Object.keys(ne).map(u=>({label:u,value:ne[u]})),onChange:u=>{t.value.socialIds=u},value:t.value.socialIds||{}},null)]})]})]})]})])});var B=function(t){return t.User="user",t.System="system",t.Security="security",t.Auth="auth",t}(B||{});const Rt=g({setup(){const t=fe(),l=z(),s=b(t.params.type);F(()=>t.params.type,r=>{r&&(s.value=r)});const i=b(null);return()=>e(tt,{actionsElement:i.value},{default:()=>[e(et,{value:s.value,onUpdateValue:r=>{l.replace({...t,params:{...t.params,type:r}})}},{default:()=>[e(T,{tab:"用户",name:B.User},{default:()=>[e(Dt,null,null)]}),e(T,{tab:"系统",name:B.System},{default:()=>[e(St,null,null)]}),e(T,{tab:"安全",name:B.Security},{default:()=>[e(It,null,null)]}),e(T,{tab:"登入方式",name:B.Auth},{default:()=>[e(vt,null,null)]})]})]})}});export{Rt as default};
