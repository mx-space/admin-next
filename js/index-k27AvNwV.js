import{bq as Be,br as Ie,bs as Se,bt as Fe,R as p,aI as re,aM as oe,d as g,b,bu as H,e,n as x,V as f,q as h,bp as O,f as d,B as v,bv as V,M as _,m as ie,bw as Ne,u as E,bx as P,aj as W,by as ce,bz as J,I as L,b7 as De,A as de,a2 as N,g as pe,a1 as U,h as B,i as j,bA as z,Y as fe,y as G,o as D,a3 as S,r as A,w as F,bB as me,bC as R,F as k,bD as K,bE as Ae,v as ve,aa as Ee,b3 as Pe,bF as Te,Q as Oe,be as je,H as Q,$ as Ve,av as be,bG as ye,ai as Ue,bH as qe,bI as Ke,bJ as Me,bK as X,bL as Le,bM as Re,N as $e,bk as ge,s as He,bo as _e,a$ as ze,aZ as Y,bN as he,bO as Ge,ah as We,c as Je,bP as Qe,bQ as Z,bR as Xe,U as Ye,am as Ze,an as T,C as et}from"./index-Crl3qwRq.js";import{_ as ee}from"./CheckCircleOutlined-LWj8fL2N.js";import{i as $}from"./isEmpty-CAuosM8H.js";import{c as we}from"./cloneDeep-BeuYjgvQ.js";import{N as tt,a as at}from"./ListItem-BFxNn35C.js";import{K as lt}from"./index-CaTfmOm_.js";import{U as ut}from"./index-BzA9ocUF.js";import{N as nt}from"./Upload-Q4hDNqEU.js";import"./_baseClone-DK5lgY80.js";function st(t){return Be(Ie(t).toLowerCase())}var rt=Se(function(t,u,l){return u=u.toLowerCase(),t+(l?st(u):u)});function te(t,u,l){return t==null?t:Fe(t,u,l)}const ot=async()=>p.api.auth.session.get();function it(t){const u={};for(const l of t.providers){const o=l.type;o in t.public?u[o]={...t.public[o],enabled:l.enabled,type:o}:console.warn(`Provider type ${o} found in providers but not in public data.`)}return u}const Ce=Symbol.for("OauthDataInjectKey"),ct=()=>t=>re(Ce,t),dt=()=>oe(Ce),pt=g({setup(){const t=async()=>{await Ne("github",{callbackUrl:`${location.href}?validate=true`})},u=dt(),l=b({clientId:"",secret:""}),o=b(!1);H(()=>{if(u.value.github===void 0)return;const{clientId:c,enabled:a}=u.value.github;o.value=a,l.value.clientId=c});const r=b(null),i={clientId:[{required:!0,message:"Client Id 不能为空"}],secret:[{required:!0,message:"Client Secret 不能为空"}]},n=async()=>{await r.value?.validate();const c="github";p.api.options("oauth").patch({data:{providers:[{type:c,enabled:!0}],secrets:{[c]:{clientSecret:l.value.secret}},public:{[c]:{clientId:l.value.clientId}}}})};return()=>e(ie,{title:"GitHub"},{default(){return e(x,{model:l.value,ref:r,rules:i},{default:()=>[e(f,{label:"Client Id",path:"clientId",required:!0},{default:()=>[e(h,{value:l.value.clientId,onUpdateValue:c=>{l.value.clientId=c}},null)]}),e(f,{label:"Client Secret",required:!0,path:"secret"},{default:()=>[e(h,{showPasswordToggle:!0,type:"password",value:l.value.secret,onUpdateValue:c=>{l.value.secret=c}},null)]}),e(O,{class:"text-sm"},{default:()=>[d("请在 GitHub Developer Settings 中创建 OAuth App"),e("br",null,null),d(" Callback URL 填写")," ",e(v,{onClick:()=>{navigator.clipboard.writeText(`${p.endpoint}/auth/callback/github`),message.success("已复制到剪贴板")},text:!0},{default:()=>[p.endpoint,d("/auth/callback/github")]})]})]})},action(){return e("div",{class:"flex justify-between"},[e("label",{class:"flex items-center gap-2"},[d("启用"),e(V,{value:o.value,onUpdateValue:c=>{o.value=c}},null)]),e(_,null,{default:()=>[e(v,{onClick:t,type:"tertiary",round:!0},{default:()=>[d("验证")]}),e(v,{onClick:n,type:"primary",round:!0},{default:()=>[d("保存")]})]})])}})}}),ft=g({setup(){return()=>e("div",null,[e(mt,null,null),e(vt,null,null)])}}),mt=g(()=>{const t=E(P),{data:u,mutate:l}=W("passkey-table",()=>p.api.passkey.items.get()),o=a=>{p.api.passkey.items(a).delete().then(()=>{l()})},r=g(a=>{const s=b(""),m=w=>{w.preventDefault(),w.stopPropagation(),J.createPassKey(s.value).then(()=>{l(),a.dialog.destroy()})};return()=>e(x,{onSubmit:m},{default:()=>[e(f,{label:"名称",required:!0},{default:()=>[e(h,{value:s.value,onUpdateValue:w=>{s.value=w}},null)]}),e("div",{class:"flex justify-end"},[e(v,{disabled:s.value.length===0,type:"primary",onClick:m,round:!0,size:"small"},{default:()=>[d("创建")]})])]})}),{data:i,mutate:n}=W("current-disable-status",async()=>{const{data:a}=await p.api.options("authSecurity").get();return a}),c=a=>{p.api.options("authSecurity").patch({data:{disablePasswordLogin:a}}).then(()=>{n()})};return r.props=["dialog"],()=>e(z,{embedded:!0,class:"!overflow-visible"},{default:()=>[e("div",{class:"flex items-center justify-between"},[e(ce,{class:"mb-0"},{default:()=>[d("通行秘钥")]}),e(_,null,{default:()=>[e(v,{type:"tertiary",onClick:()=>{J.validate(!0)},round:!0},{default:()=>[e(L,null,{default:()=>[e(De,null,null)]}),e("span",{class:"ml-2"},[d("验证")])]}),e(v,{round:!0,type:"primary",onClick:()=>{const a=dialog.create({title:"创建 Passkey",content:()=>e(r,{dialog:a},null)})}},{default:()=>[e(L,null,{default:()=>[e(de,null,null)]}),e("span",{class:"ml-2"},[d("新增")])]})]})]),e(x,{class:"mt-4",labelAlign:"left",labelPlacement:"left"},{default:()=>[e(f,{label:"禁止密码登入"},{default:()=>[e(V,{value:i.value?.disablePasswordLogin,onUpdateValue:a=>{u.value?.length||message.error("至少需要一个 Passkey 才能开启这个功能"),c(a)}},null)]}),e("div",{class:"-mt-8 mb-4"},[e(N,{class:"mb-2 text-xs",depth:3},{default:()=>[e("span",null,[d("禁用密码登录需要至少开启 Clerk 或者 PassKey 登录的一项")])]})])]}),e(pe,{scrollX:Math.max(800,t.contentWidth.value-t.contentInsetWidth.value),remote:!0,bordered:!1,data:u.value,columns:[{key:"name",title:"名称"},{title:"创建时间",key:"created",render({created:a}){return e(U,{time:a},null)}},{title:"操作",key:"id",render({id:a,name:s}){return e(B,null,{default:()=>[e(j,{positiveText:"取消",negativeText:"删除",onNegativeClick:()=>{o(a)}},{trigger:()=>e(v,{text:!0,type:"error"},{default:()=>[d("删除")]}),default:()=>e("span",{class:"max-w-48"},[d('确定要删除 Passkey "'),s,d('"?')])})]})}}]},null)]})}),vt=g(()=>{const t=fe(),u=G(),l=b({});return D(async()=>{const o=await p.api.options("oauth").get();l.value=it(o.data)}),ct()(l),D(async()=>{const o=t.query.validate;u.replace({query:{...t.query,validate:""}}),o&&await ot()&&(message.success("验证成功"),dialog.create({title:"设定为主人账户？",positiveText:"是",negativeText:"否",onPositiveClick(i){p.api.auth("as-owner").patch()}}))}),()=>e(z,{embedded:!0,class:"mt-12 !overflow-visible"},{default:()=>[e(ce,{class:"mb-0"},{default:()=>[d("OAuth")]}),e("div",{class:"mt-8 grid grid-cols-1 gap-4 md:grid-cols-2 xl:grid-cols-3"},[e(pt,null,null)])]})}),ae=g({props:{condition:{type:[Boolean,Function],required:!0}},setup(t,{slots:u}){const l=()=>{if(typeof t.condition=="function"?t.condition():t.condition)return u.default?.()};return()=>l()}});function M(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!ve(t)}const bt="mt-6",yt={class:bt,labelPlacement:"left",labelAlign:"right",labelWidth:150,autocomplete:"do-not-autofill"},xe=Symbol("JSONSchemaFormInject"),gt=g({props:{schema:{type:Object,required:!0},onValueChange:{type:Function,required:!1},initialValue:{type:Object,required:!0},getKey:{type:Function,required:!1,default:t=>t},extendConfigView:{type:Object}},setup(t,{slots:u}){const l=b(t.initialValue);H(()=>{t.onValueChange?.(l.value)},{flush:"post"});const o=S(()=>t.schema.definitions),r=S(()=>new Map(Object.entries(t.schema.definitions)));re(xe,{schema:t.schema,definitions:r,getKey:t.getKey});const i=S(()=>Object.keys(o.value)),n=b([i.value[0]]),c=E(P),a=A(yt);return F(()=>c.viewport.value.mobile,s=>{s?(a.labelPlacement="top",a.labelAlign="left"):(a.labelPlacement="left",a.labelAlign="right")},{immediate:!0}),()=>{let s,m;const{schema:w}=t;return e(k,null,[e(me,{accordion:!0,defaultExpandedNames:n.value,displayDirective:"if"},M(s=i.value.map(y=>{const C=o.value[y];if(!C.title)return null;switch((C?.["ui:options"]||{})?.type){case"hidden":return null}return e(R,{title:C.title,"data-schema":JSON.stringify(C)},{default:()=>[e(x,a,{default:()=>[e(ke,{dataKey:t.getKey(y),formData:l,schema:C,property:y},null),t.extendConfigView?.[y],u[y]?.()]})]})}))?s:{default:()=>[s]}),w.ps.length?e(B,{vertical:!0},M(m=w.ps.map(y=>e(N,{class:"ml-4 mt-8 inline-block text-xs",depth:3},M(y)?y:{default:()=>[y]})))?m:{default:()=>[m]}):null])}}}),ke=g({props:{schema:{type:Object,required:!0},formData:{type:Object,required:!0},dataKey:{type:String,required:!0},property:{type:String}},setup(t){const{definitions:u,getKey:l}=oe(xe,{});return()=>{const{schema:o,formData:r,dataKey:i,property:n}=t;return o?e(k,null,[Object.keys(o.properties).map(c=>{const a=o.properties[c];if(a.$ref){const s=u.value.get(a.$ref.split("/").at(-1));return e(ke,{dataKey:`${l(i)}.${c}`,formData:r,schema:s,property:c},null)}return e(ht,{value:K(r.value,`${l(i)}.${c}`,void 0),onUpdateValue:s=>{K(r.value,l(i))?te(r.value,`${l(i)}.${c}`,s):te(r.value,l(i),{...K(r.value,l(i),{}),[c]:s})},title:a.title,type:a.type,options:a?.["ui:options"],description:a.description},null)})]):null}}}),ht=g({props:{type:{type:String,required:!0},title:{type:String,required:!0},description:{type:String},options:{type:Object,default:()=>({})},value:{type:Object,required:!0},onUpdateValue:{type:Function,required:!0}},setup(t){const u=b(t.value);H(()=>{t.onUpdateValue(u.value)});const l=()=>{const{options:i}=t;switch(t.type){case"url":case"string":{const{type:n}=i;switch(n){case"select":const{values:c}=i;return e(Oe,{value:u.value,onUpdateValue:a=>{u.value=a},options:c,filterable:!0},null);default:return e(h,{inputProps:{id:Te()},value:u.value,onUpdateValue:a=>{u.value=a},type:n||"text",showPasswordOn:"click",autosize:n=="textarea"?{maxRows:5,minRows:3}:void 0,clearable:!0},null)}}case"array":return e(Pe,{value:u.value,onUpdateValue:n=>{u.value=n}},null);case"boolean":return e(V,{value:u.value,onUpdateValue:n=>{u.value=n}},null);case"integer":return e(Ee,{value:u.value,onUpdateValue:n=>{u.value=n}},null);default:return null}},o=E(P),r=S(()=>o.viewport.value.mobile?1:2);return()=>{const{title:i,options:n,description:c}=t,a=e(k,null,[e(f,{label:i},{default:()=>[c?e(B,{class:"w-full",vertical:!0},{default:()=>[l(),e(N,{class:"text-xs",depth:3},{default:()=>[e("span",{innerHTML:Ae.parse(c)},null)]})]}):l()]})]);return n.halfGrid&&r.value===2?e("div",{class:"inline-block w-1/2"},[a]):a}}}),wt="mt-6",Ct={class:wt,labelPlacement:"left",labelAlign:"right",labelWidth:150,autocomplete:"chrome-off"},le={autosize:!0,clearable:!0,style:"min-width: 300px; max-width: 100%"},xt=g(()=>{const{setHeaderButtons:t}=je();D(()=>{t(e(Q,{disabled:!0,onClick:i,icon:e(ee,null,null)},null))}),Ve(()=>{t(null)});const u=b();be(async()=>{u.value=await p.api.config.jsonschema.get({transform:!1}),await n()});let l={};const o=A({}),r=b({});F(()=>o,s=>{r.value=ye(l,Ue(s))},{deep:!0}),F(()=>r.value,s=>{let m=!1;$(s)?m=!1:m=!0,t(e(Q,{disabled:!m,icon:e(ee,null,null),onClick:i},null))});async function i(){if($(r.value))return;const s=Object.entries(r.value);for await(const[m,w]of s){const y=Object.fromEntries(Object.entries(w).map(([C,q])=>Array.isArray(q)?[C,o[m][C]]:[C,q]));await p.api.options(m).patch({data:y})}await n(),message.success("修改成功")}const n=async()=>{let s=await p.api.options.get();s=qe(u.value.default,s),l=we(s),Object.assign(o,s)},c=E(P),a=A(Ct);return F(()=>c.viewport.value.mobile,s=>{s?(a.labelPlacement="top",a.labelAlign="left"):(a.labelPlacement="left",a.labelAlign="right")},{immediate:!0}),()=>e(k,null,[e("div",{class:"pt-4"},null),u.value&&e(gt,{initialValue:o,getKey:s=>s.split(".").map(m=>rt(m)).join(".").replace("Dto",""),schema:u.value},{AdminExtraDto(){return e(k,null,[e(f,{label:"主题色"},{default:()=>[e(kt,null,null)]})])}})])}),kt=g({setup(){const t=Ke(),u=document.createElement("style");return u.innerHTML="* { transition: none !important; }",()=>e("div",{class:"flex items-center gap-2"},[e(Me,{class:"w-36",value:t.value.primaryColor,onUpdateValue:l=>{document.head.appendChild(u),Object.assign(X.value,Le(l)),setTimeout(()=>{document.head.removeChild(u)})}},null),e(v,{size:"small",ghost:!0,onClick:()=>{Object.assign(X.value,Re)}},{default:()=>[e("span",null,[d("重置")])]})])}});function ue(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!ve(t)}const Bt=g(()=>{const t=b([]),u=async()=>{const r=await p.api.user.session.get({});t.value=[...r.data]};D(()=>{u()});const l=async(r,i)=>{r?(await p.api.user.logout.post({}),he(),await Ge(),window.location.reload()):(await p.api.user.session(i).delete({}),t.value=t.value.filter(n=>n.id!==i))},o=async()=>{await p.api.user.session.all.delete({}),await u()};return()=>{let r;return e(k,null,[e($e,{class:"flex items-center justify-between"},{default:()=>[e("span",{class:"ml-4"},[d("登录设备")]),e(j,{onPositiveClick:o},{trigger(){return e(v,{size:"small",quaternary:!0,type:"error",disabled:t.value.length==1&&t.value[0].current},{default:()=>[d("踢掉全部")]})},default(){return"确定踢掉全部登录设备（除当前会话）？"}})]}),e(tt,{bordered:!0},ue(r=t.value.map(({id:i,ua:n,ip:c,date:a,current:s})=>e(at,{key:i},{prefix(){return e("div",{class:"w-20 text-center"},[s?"当前":null])},suffix(){return e(_,null,{default:()=>[e(j,{onPositiveClick:()=>l(!!s,i)},{trigger(){return e(v,{tertiary:!0,type:"error"},{default:()=>[s?"注销":"踢"]})},default(){return s?"登出？":"确定要踢出吗？"}})]})},default(){return e(B,{vertical:!0},{default:()=>[e(ae,{condition:!!n},{default:()=>[e(O,null,{default:()=>[d("User Agent: "),n]})]}),e(ae,{condition:!!c},{default:()=>[e(O,null,{default:()=>[d("IP:")," ",e(ge,{ip:c,triggerEl:e(v,{quaternary:!0,size:"tiny",type:"primary"},ue(c)?c:{default:()=>[c]})},null)]})]}),e(O,null,{default:()=>[s?"活跃时间":"登录时间",d(":")," ",e(U,{time:a},null)]})]})}})))?r:{default:()=>[r]}),e("div",{class:"pt-4"},null),e(me,{defaultExpandedNames:[""],displayDirective:"show"},{default:()=>[e(R,{name:"reset",title:"修改密码"},{default:()=>[e(St,null,null)]}),e(R,{name:"token",title:"API Token"},{default:()=>[e(It,null,null)]})]})])}}),It=g(()=>{const t=b([]),u=()=>({name:"",expired:!1,expiredTime:new Date}),l=A(u()),o=async()=>{const{data:a}=await p.api.auth.token.get();t.value=a};be(()=>{o()});const r=b(!1),i=async()=>{const a={name:l.name,expired:l.expired?l.expiredTime.toISOString():void 0},s=await p.api.auth.token.post({data:a});await navigator.clipboard.writeText(s.token),r.value=!1;const m=u();for(const y in m)l[y]=m[y];message.success(`生成成功，Token 已复制，${s.token}`),await o();const w=t.value.findIndex(y=>y.name===a.name);w!==-1&&(t.value[w].token=s.token)},n=async a=>{await p.api.auth.token.delete({params:{id:a}}),message.success("删除成功");const s=t.value.findIndex(m=>m.id===a);s!=-1&&t.value.splice(s,1)},c=E(P);return()=>e(z,{class:"!overflow-visible"},{default:()=>[e(He,{transformOrigin:"center",show:r.value,onUpdateShow:a=>void(r.value=a)},{default:()=>[e(ie,{bordered:!1,title:"创建 Token",class:"w-[500px] max-w-full"},{default:()=>[e(x,null,{default:()=>[e(f,{label:"名称",required:!0},{default:()=>[e(h,{value:l.name,onInput:a=>void(l.name=a)},null)]}),e(f,{label:"是否过期"},{default:()=>[e(V,{value:l.expired,onUpdateValue:a=>void(l.expired=a)},null)]}),e(f,{label:"过期时间"},{default:()=>[e(_e,{disabled:!l.expired,value:l.expiredTime,type:"datetime",onUpdateValue:a=>void(l.expiredTime=new Date(a))},null)]})]}),e(B,null,{default:()=>[e(v,{round:!0,onClick:()=>void(r.value=!1)},{default:()=>[d("取消")]}),e(v,{round:!0,type:"primary",onClick:i},{default:()=>[d("确定")]})]})]})]}),e(v,{class:"absolute right-0 top-[-3rem]",round:!0,type:"primary",onClick:()=>{r.value=!0}},{default:()=>[e(L,null,{default:()=>[e(de,null,null)]}),e("span",{class:"ml-2"},[d("新增")])]}),e(pe,{scrollX:Math.max(800,c.contentWidth.value-c.contentInsetWidth.value),remote:!0,bordered:!1,data:t.value,columns:[{key:"name",title:"名称"},{key:"token",title:"Token",render({token:a}){return"*".repeat(40)}},{title:"创建时间",key:"created",render({created:a}){return e(U,{time:a},null)}},{title:"过期时间",key:"expired",render({expired:a}){return ze(a,"yyyy 年 M 月 d 日 HH:mm:ss")}},{title:"操作",key:"id",render({id:a,name:s}){return e(B,null,{default:()=>[e(j,{positiveText:"取消",negativeText:"删除",onNegativeClick:()=>{n(a)}},{trigger:()=>e(v,{text:!0,type:"error"},{default:()=>[d("删除")]}),default:()=>e("span",{class:"max-w-48"},[d('确定要删除 Token "'),s,d('"?')])})]})}}]},null)]})}),St=g(()=>{const t=A({password:"",reenteredPassword:""}),u=b(),l=G(),o=async()=>{u.value&&u.value.validate(async i=>{i?console.log(i):(await p.api.master.patch({data:{password:t.password}}),message.success("更改成功"),he(),l.push({name:We.Login}))})};function r(i,n){return console.log(i),n===t.password}return()=>e(x,{class:"max-w-[300px]",ref:u,model:t,rules:{password:[{required:!0,message:"请输入密码"}],reenteredPassword:[{required:!0,message:"请再次输入密码",trigger:["input","blur"]},{validator:r,message:"两次密码输入不一致",trigger:["blur","password-input"]}]}},{default:()=>[e(f,{label:"新密码",required:!0,path:"password"},{default:()=>[e(h,Y(le,{value:t.password,onInput:i=>void(t.password=i),type:"password"}),null)]}),e(f,{label:"重复密码",required:!0,path:"reenteredPassword"},{default:()=>[e(h,Y(le,{value:t.reenteredPassword,onInput:i=>void(t.reenteredPassword=i),type:"password"}),null)]}),e("div",{class:"quaternary-right w-full"},[e(v,{onClick:o,type:"primary",round:!0},{default:()=>[d("保存")]})])]})}),ne={GitHub:"github",Weibo:"weibo",网易云:"netease",哔哩哔哩:"bilibili"},Ft="_avatar_1o1mi_3",se={"tab-user":"_tab-user_1o1mi_1",avatar:Ft},Nt=g(()=>{const t=b({});let u;async function l(){const n=await p.api.master.get();t.value=n,u={...n}}D(async()=>{await l()});const o=Je(),r=S(()=>ye(u,t.value)),i=async()=>{const n=we(Ye(r));n.socialIds&&(n.socialIds=t.value.socialIds),await p.api.master.patch({data:n}),o.success("保存成功~"),await l()};return()=>e(k,null,[e(Qe,{cols:"1 400:1 600:2",class:se["tab-user"],xGap:20,yGap:20},{default:()=>[e(Z,null,{default:()=>[e(x,{class:"flex flex-col items-center justify-center "},{default:()=>[e(f,null,{default:()=>[e("div",{class:se.avatar},[e(ut,{type:"avatar",onFinish:n=>{const{file:c,event:a}=n;try{const s=JSON.parse((a?.target).responseText);t.value.avatar=s.url}catch{}return c}},{default:()=>[e(nt,{class:"border-0 bg-transparent hover:border-0"},{default:()=>[e(Xe,{class:"flex",src:t.value.avatar,size:200},null)]})]})])]}),e(f,{label:"上次登录时间",class:"!mt-4"},{default:()=>[e("div",{class:"w-full text-center"},[e(N,null,{default:()=>[t.value.lastLoginTime?e(U,{time:t.value.lastLoginTime},null):"N/A"]})])]}),e(f,{label:"上次登录地址"},{default:()=>[e("div",{class:"w-full text-center"},[t.value.lastLoginIp?e(ge,{trigger:"hover",ip:t.value.lastLoginIp,triggerEl:e(N,{class:"cursor-pointer"},{default:()=>[t.value.lastLoginIp]})},null):"N/A"])]}),e(f,null,{default:()=>[e(v,{round:!0,class:"-mt-14",type:"primary",onClick:i,disabled:$(r.value)},{default:()=>[d("保存")]})]})]})]}),e(Z,null,{default:()=>[e(x,null,{default:()=>[e(f,{label:"主人名 (username)"},{default:()=>[e(h,{value:t.value.username,onInput:n=>{t.value.username=n?.trim()||""}},null)]}),e(f,{label:"主人昵称 (name)"},{default:()=>[e(h,{value:t.value.name,onInput:n=>{t.value.name=n?.trim()||""}},null)]}),e(f,{label:"主人邮箱 (mail)"},{default:()=>[e(h,{value:t.value.mail,onInput:n=>{t.value.mail=n}},null)]}),e(f,{label:"个人首页"},{default:()=>[e(h,{value:t.value.url,onInput:n=>{t.value.url=n}},null)]}),e(f,{label:"头像"},{default:()=>[e(h,{value:t.value.avatar,onInput:n=>{t.value.avatar=n}},null)]}),e(f,{label:"个人介绍"},{default:()=>[e(h,{type:"textarea",resizable:!1,value:t.value.introduce,onInput:n=>{t.value.introduce=n}},null)]}),e(f,{label:"社交平台 ID 录入"},{default:()=>[e(lt,{key:t.value.id,options:Object.keys(ne).map(n=>({label:n,value:ne[n]})),onChange:n=>{t.value.socialIds=n},value:t.value.socialIds||{}},null)]})]})]})]})])});var I=function(t){return t.User="user",t.System="system",t.Security="security",t.Auth="auth",t}(I||{});const qt=g({setup(){const t=fe(),u=G(),l=b(t.params.type);F(()=>t.params.type,r=>{r&&(l.value=r)});const o=b(null);return()=>e(et,{actionsElement:o.value},{default:()=>[e(Ze,{value:l.value,onUpdateValue:r=>{u.replace({...t,params:{...t.params,type:r}})}},{default:()=>[e(T,{tab:"用户",name:I.User},{default:()=>[e(Nt,null,null)]}),e(T,{tab:"系统",name:I.System},{default:()=>[e(xt,null,null)]}),e(T,{tab:"安全",name:I.Security},{default:()=>[e(Bt,null,null)]}),e(T,{tab:"登入方式",name:I.Auth},{default:()=>[e(ft,null,null)]})]})]})}});export{qt as default};
